<!DOCTYPE html>

<html>

<head>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GYTMS0Q8DK"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-GYTMS0Q8DK');
  </script>
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">
  <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <meta property="og:image" content="/favicon/android-chrome-512x512.png">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=no" />
  <title>Grain</title>
  <meta name="description" content="Sand art simulator">
  <meta name="keywords" content="grain, sand, art, falling, simulator">
  <meta name="author" content="suprdory">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <canvas id="cw" width="100%" height="100%"></canvas>

  <body>
    <div class="control-panel">
      <button id="shuffleBtn"><i class="material-icons">shuffle</i></button>
      <button id="flipBtn"><i class="material-icons">swap_vert</i></button>
      <button id="changeColorBtn"><i class="material-icons">palette</i></button>
      <button id="playPauseBtn" class="paused"><i class="material-icons">play_arrow</i></button>
      <button id="screenshotBtn"><i class="material-icons">camera_alt</i></button>
      <button id="hidePanelBtn"><i class="material-icons">close</i></button>
    </div>
    <canvas id="myCanvas" width="100%" height="100%"></canvas>
    <script>
      // JavaScript for toggling play/pause button
      const playPauseBtn = document.getElementById('playPauseBtn');
  
      playPauseBtn.addEventListener('click', () => {
        playPauseBtn.classList.toggle('paused');
        const icon = playPauseBtn.querySelector('i');
        icon.textContent = playPauseBtn.classList.contains('paused') ? 'pause' : 'play_arrow';
      });
  
      // JavaScript for handling screenshot button (adjust as needed)
      const screenshotBtn = document.getElementById('screenshotBtn');
  
      screenshotBtn.addEventListener('click', () => {
        // Add logic for taking a screenshot here
        alert('Screenshot taken!');
      });
  
      // JavaScript for hiding and restoring the panel
      const hidePanelBtn = document.getElementById('hidePanelBtn');
      const controlPanel = document.querySelector('.control-panel');
      const canvas = document.getElementById('myCanvas');
  
      hidePanelBtn.addEventListener('click', () => {
        controlPanel.style.display = 'none';
      });
  
      // Double-click on the canvas or double-tap on a touch screen to restore the panel
      let lastTouchTime = 0;
  
      canvas.addEventListener('dblclick', () => {
        controlPanel.style.display = 'flex';
      });
  
      canvas.addEventListener('touchstart', (event) => {
        const currentTime = new Date().getTime();
        const timeDifference = currentTime - lastTouchTime;
        if (timeDifference < 300 && timeDifference > 0) {
          // If the time difference is less than 300ms, treat it as a double tap
          controlPanel.style.display = 'flex';
        }
        lastTouchTime = currentTime;
      });
    </script>

  </body>
  <script src="config.js"></script>
  <script src="grain.js" type="module"></script>

</html>